<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Ish Abbi">
    <meta name="description" content="Ish&#39;s personal website">
    <meta name="keywords" content="blog,developer,personal,testing">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Generating HTML reports for your tests via Gradle"/>
<meta name="twitter:description" content="There are many frameworks for your reporting needs (two of the most notable ones are Allure and Extent reports) in the market today, even gradle provides an in-house html report on execution of a junit/testng test.
In case your project is on gradle and you want to customize the reports or your tests run via a CLI, here I try to explain an easy way to start with generating your own custom HTML reports via gradle tasks using the Groovy MarkupBuilder."/>

    <meta property="og:title" content="Generating HTML reports for your tests via Gradle" />
<meta property="og:description" content="There are many frameworks for your reporting needs (two of the most notable ones are Allure and Extent reports) in the market today, even gradle provides an in-house html report on execution of a junit/testng test.
In case your project is on gradle and you want to customize the reports or your tests run via a CLI, here I try to explain an easy way to start with generating your own custom HTML reports via gradle tasks using the Groovy MarkupBuilder." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rookieintraining.github.io/posts/gradle-reporting-easy-way/" />
<meta property="article:published_time" content="2020-02-17T18:45:18+05:30" />
<meta property="article:modified_time" content="2020-02-17T18:45:18+05:30" />


    
      <base href="https://rookieintraining.github.io/posts/gradle-reporting-easy-way/">
    
    <title>
  Generating HTML reports for your tests via Gradle · Home
</title>

    
      <link rel="canonical" href="https://rookieintraining.github.io/posts/gradle-reporting-easy-way/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://rookieintraining.github.io/css/coder.min.ab11da33926aff1bbed738198c81361e84bf702098a3e97ed5b24126bde6c9ba.css" integrity="sha256-qxHaM5Jq/xu&#43;1zgZjIE2HoS/cCCYo&#43;l&#43;1bJBJr3mybo=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://rookieintraining.github.io/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css" integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU=" crossorigin="anonymous" media="screen" />
      
    

    

    

    

    <link rel="icon" type="image/png" href="https://rookieintraining.github.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://rookieintraining.github.io/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.64.1" />
  </head>

  
  
    
  
  <body class="colorscheme-auto">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://rookieintraining.github.io/">
      Home
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rookieintraining.github.io/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rookieintraining.github.io/contactme/">Contact me</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Generating HTML reports for your tests via Gradle</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-02-17T18:45:18&#43;05:30'>
                February 17, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              6-minute read
            </span>
          </div>
          
          
        </div>
      </header>

      <div>
        
        <!-- raw HTML omitted -->
<p>There are many frameworks for your reporting needs (two of the most notable ones are <a href="http://allure.qatools.ru/">Allure</a> and <a href="https://extentreports.com/">Extent</a> reports) in the market today, even gradle provides an in-house html report on execution of a junit/testng test.</p>
<p>In case your project is on gradle and you want to customize the reports or your tests run via a CLI, here I try to explain an easy way to start with generating your own custom HTML reports via gradle tasks using the Groovy MarkupBuilder.</p>
<!-- raw HTML omitted -->
<h1 id="what-isgradle">What is Gradle?</h1>
<p>Gradle is an open-source build automation tool like Maven and Ant. It is build upon the same concepts as its predecessors with the only difference being that it is better in terms of performance and provides a Groovy-based DSL allowing you; the programmer to be more flexible. It supports languages like Java, Scala and Groovy with support for more languages planned for the future.</p>
<p>In case, your project is not part of the above system of supported languages you can create a project with the basic gradle settings too. Due to the DSL and task based structure of gradle, it provides you a lot of flexibility. As long as you can code the logic as a task, there are many things you can do in your project.
You can read further about gradle tasks and build lifecycle <a href="https://docs.gradle.org/current/userguide/tutorial_using_tasks.html">here</a>.</p>
<!-- raw HTML omitted -->
<h1 id="the-groovy-markupbuilder">The Groovy MarkupBuilder</h1>
<p><code>groovy.xml.MarkupBuilder</code> is the Groovy helper class which will help us in generating the html file for our reports.</p>
<p>To create a tag using the markup builder you need to add a method call with the name of the tag that you want to create. Assuming the <code>xmlMarkup</code> as the object initialized, the below code :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">xmlMarkup.<span style="color:#007f7f">myCustomTag</span>()
</code></pre></div><p>will create a tag <code>myCustomTag</code> in the XML/HTML format</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="font-weight:bold">myCustomTag</span>&gt;&lt;/<span style="font-weight:bold">myCustomTag</span>&gt;
</code></pre></div><p>To add text to the tag created, just add a string as an argument. So, the below code :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">xmlMarkup.<span style="color:#007f7f">myCustomTag</span>(<span style="color:#0ff;font-weight:bold">&#34;Lorem Ipsum&#34;</span>)
</code></pre></div><p>will produce :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="font-weight:bold">myCustomTag</span>&gt;Lorem Ipsum&lt;/<span style="font-weight:bold">myCustomTag</span>&gt;
</code></pre></div><p>To add any attribute to a tag you can add key values as arguments to the call. So the below code :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">xmlMarkup.<span style="color:#007f7f">myCustomTag</span>(<span style="color:#0ff;font-weight:bold">&#34;class&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;container&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;typical&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Lorem Ipsum&#34;</span>)
</code></pre></div><p>will create the your tag, with the following attributes :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="font-weight:bold">myCustomTag</span> <span style="color:#007f7f">class</span>=<span style="color:#0ff;font-weight:bold">&#34;container&#34;</span> <span style="color:#007f7f">name</span>=<span style="color:#0ff;font-weight:bold">&#34;typical&#34;</span>&gt;Lorem Ipsum&lt;/<span style="font-weight:bold">myCustomTag</span>&gt;
</code></pre></div><p>To create nested tags, you need to add groovy closures :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">xmlMarkup.<span style="color:#007f7f">myCustomTag</span>(<span style="color:#0ff;font-weight:bold">&#34;class&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;container&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;typical&#34;</span>) { 
    tag1(<span style="color:#0ff;font-weight:bold">&#34;class&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;table&#34;</span>) { 
        tag2(<span style="color:#0ff;font-weight:bold">&#34;class&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;turner&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Lorem Ipsum&#34;</span>) 
    } 
}
</code></pre></div><p>To create self-closing tags you can use <code>mkp.yeild()</code> method call.</p>
<p>You can read more about MarkupBuilder <a href="https://groovy-lang.org/processing-xml.html#_markupbuilder">here</a>.</p>
<!-- raw HTML omitted -->
<h1 id="usage-">Usage :</h1>
<p>A typical gradle flow contains of tasks which are executed in a respective phase of the build&rsquo;s cycle. A task in gradle&rsquo;s terminology can be work such as executing tests for a build, copying a particular file to a different destination, executing a CLI command, archiving a folder, etc.
The example shown below is of a test output in the JUnit&rsquo;s XML format. For our use case, we&rsquo;ll be creating a task called htmlReport which will read the data from a XML and write it down to the report as an HTML file.</p>
<p>Given we have a XML file as below :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; standalone=&#34;yes&#34;?&gt;</span>
<span style="font-weight:bold">&lt;testsuites</span><span style="font-weight:bold">&gt;</span>
  <span style="font-weight:bold">&lt;testsuite</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;Test Suite&#34;</span> <span style="color:#007f7f">tests=</span><span style="color:#0ff;font-weight:bold">&#34;3&#34;</span> <span style="color:#007f7f">failure=</span><span style="color:#0ff;font-weight:bold">&#34;3&#34;</span> <span style="color:#007f7f">timestamp=</span><span style="color:#0ff;font-weight:bold">&#34;2018-10-04T06:58:18.063Z&#34;</span><span style="font-weight:bold">&gt;</span>
    <span style="font-weight:bold">&lt;testcase</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;Test 1&#34;</span> <span style="color:#007f7f">classname=</span><span style="color:#0ff;font-weight:bold">&#34;com.test.demo&#34;</span> <span style="color:#007f7f">time=</span><span style="color:#0ff;font-weight:bold">&#34;92.689&#34;</span><span style="font-weight:bold">&gt;</span>
      <span style="font-weight:bold">&lt;failure</span> <span style="color:#007f7f">message=</span><span style="color:#0ff;font-weight:bold">&#34;Step Failed: Element not found&#34;</span><span style="font-weight:bold">/&gt;</span>
      <span style="font-weight:bold">&lt;system-out</span><span style="font-weight:bold">&gt;</span>Some Test Related Output<span style="font-weight:bold">&lt;/system-out&gt;</span>
    <span style="font-weight:bold">&lt;/testcase&gt;</span>
    <span style="font-weight:bold">&lt;testcase</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;Test 2&#34;</span> <span style="color:#007f7f">classname=</span><span style="color:#0ff;font-weight:bold">&#34;com.test.demo&#34;</span> <span style="color:#007f7f">time=</span><span style="color:#0ff;font-weight:bold">&#34;95.604&#34;</span><span style="font-weight:bold">&gt;</span>
      <span style="font-weight:bold">&lt;failure</span> <span style="color:#007f7f">message=</span><span style="color:#0ff;font-weight:bold">&#34;Step Failed: Element not found&#34;</span><span style="font-weight:bold">/&gt;</span>
      <span style="font-weight:bold">&lt;system-out</span><span style="font-weight:bold">&gt;</span>Some Test Related Output<span style="font-weight:bold">&lt;/system-out&gt;</span>
    <span style="font-weight:bold">&lt;/testcase&gt;</span>
    <span style="font-weight:bold">&lt;testcase</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;Test 3&#34;</span> <span style="color:#007f7f">classname=</span><span style="color:#0ff;font-weight:bold">&#34;com.test.demo&#34;</span> <span style="color:#007f7f">time=</span><span style="color:#0ff;font-weight:bold">&#34;93.25&#34;</span><span style="font-weight:bold">&gt;</span>
      <span style="font-weight:bold">&lt;failure</span> <span style="color:#007f7f">message=</span><span style="color:#0ff;font-weight:bold">&#34;Step Failed: Element not found&#34;</span><span style="font-weight:bold">/&gt;</span>
      <span style="font-weight:bold">&lt;system-out</span><span style="font-weight:bold">&gt;</span>Some Test Related Output<span style="font-weight:bold">&lt;/system-out&gt;</span>
    <span style="font-weight:bold">&lt;/testcase&gt;</span>
  <span style="font-weight:bold">&lt;/testsuite&gt;</span>
<span style="font-weight:bold">&lt;/testsuites&gt;</span>
</code></pre></div><p>In order to convert the above into a custom HTML report, we&rsquo;ll start with the below skeletal <code>build.gradle</code> file.</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy"><span style="color:#fff;font-weight:bold">import</span> groovy.xml.MarkupBuilder
group <span style="color:#0ff;font-weight:bold">&#39;&lt;project-name&gt;&#39;</span>
version <span style="color:#0ff;font-weight:bold">&#39;1.0-SNAPSHOT&#39;</span>
apply plugin: <span style="color:#0ff;font-weight:bold">&#39;base&#39;</span>
task htmlReport {
     <span style="color:#007f7f">// Write code here
</span><span style="color:#007f7f"></span>}
</code></pre></div><p>The <code>apply plugin: 'base'</code> provides some tasks and conventions that are common to most builds. It also adds a structure to the build that promotes consistency in how they are run.</p>
<p>We can parse the above written xml in Groovy using <code>XMLParser</code>. The following code parses the xml document for us :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy"><span style="color:#fff;font-weight:bold">def</span> xmlFile = <span style="color:#fff;font-weight:bold">new</span> XmlParser().<span style="color:#007f7f">parse</span>(filename)
</code></pre></div><p>You can fetch values of a tag&rsquo;s attributes by following the syntax :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">xmlFile.&lt;tagName&gt;[<span style="color:#0ff;font-weight:bold">&#39;@&lt;attribute&gt;&#39;</span>]

<span style="color:#007f7f">//To get name of a testsuite from the given xml
</span><span style="color:#007f7f"></span>xmlFile.<span style="color:#007f7f">testsuite</span>[<span style="color:#0ff;font-weight:bold">&#39;@name&#39;</span>]

<span style="color:#007f7f">//To get the name of the first test case present inside the testsuite
</span><span style="color:#007f7f"></span>xmlFile.<span style="color:#007f7f">testsuite</span>[<span style="color:#ff0;font-weight:bold">0</span>].<span style="color:#007f7f">testcase</span>[<span style="color:#ff0;font-weight:bold">0</span>][<span style="color:#0ff;font-weight:bold">&#39;@name&#39;</span>]
</code></pre></div><p>Now that we know how to read from the xml file. We start by initializing the MarkupBuilder for creating our html file :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy"><span style="color:#fff;font-weight:bold">def</span> xmlWriter = <span style="color:#fff;font-weight:bold">new</span> FileWriter(file(<span style="color:#0ff;font-weight:bold">&#34;${project.buildDir}/index.html&#34;</span>))
<span style="color:#fff;font-weight:bold">def</span> xmlMarkup = <span style="color:#fff;font-weight:bold">new</span> MarkupBuilder(xmlWriter)
</code></pre></div><p>As an HTML convention we&rsquo;ll need to add the <code>DOCTYPE</code> tag</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">xmlWriter.<span style="color:#007f7f">write</span>(<span style="color:#0ff;font-weight:bold">&#34;&lt;!DOCTYPE html&gt;\n&#34;</span>)
</code></pre></div><p>Using our learnings from the <em>The Groovy MarkupBuilder</em> section, we can create the HTML documents like the one below :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">xmlMarkup.<span style="color:#007f7f">html</span>() {
  head() {
    meta(charset: <span style="color:#0ff;font-weight:bold">&#34;utf-8&#34;</span>)
    meta(name: <span style="color:#0ff;font-weight:bold">&#34;viewport&#34;</span>, content:<span style="color:#0ff;font-weight:bold">&#34;width=device-width, initial-scale=1, maximum-scale=1&#34;</span>)
    title(<span style="color:#0ff;font-weight:bold">&#34;Test Report&#34;</span>)
    link(rel: <span style="color:#0ff;font-weight:bold">&#34;stylesheet&#34;</span>, href: <span style="color:#0ff;font-weight:bold">&#34;https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css&#34;</span>, media: <span style="color:#0ff;font-weight:bold">&#34;screen,projection&#34;</span>) { mkp.<span style="color:#007f7f">yield</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>) }
    link(rel: <span style="color:#0ff;font-weight:bold">&#34;stylesheet&#34;</span>, href: <span style="color:#0ff;font-weight:bold">&#34;https://fonts.googleapis.com/icon?family=Material+Icons&#34;</span>) { mkp.<span style="color:#007f7f">yield</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>) }
 }
  body(){
    header(){
        div(<span style="color:#0ff;font-weight:bold">&#34;class&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;nav-wrapper&#34;</span>){
            nav(class: <span style="color:#0ff;font-weight:bold">&#34;blue darken-3&#34;</span>) {
                a(class: <span style="color:#0ff;font-weight:bold">&#34;brand-logo&#34;</span>, href: <span style="color:#0ff;font-weight:bold">&#34;#&#34;</span>,id: <span style="color:#0ff;font-weight:bold">&#34;logo-container&#34;</span>) {
                img(class: <span style="color:#0ff;font-weight:bold">&#34;logo-img&#34;</span>,src: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>) {
                    mkp.<span style="color:#007f7f">yield</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>)
                }
            }
            ul(class: <span style="color:#0ff;font-weight:bold">&#34;center flow-text&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;TEST RESULTS&#34;</span>)
            }
        }
    }
    div(class: <span style="color:#0ff;font-weight:bold">&#34;container&#34;</span>) {
    div(style: <span style="color:#0ff;font-weight:bold">&#34;margin-bottom: 50px;&#34;</span>) {
        table(class: <span style="color:#0ff;font-weight:bold">&#34;striped responsive-table&#34;</span>, id: <span style="color:#0ff;font-weight:bold">&#34;example&#34;</span>) {
            thead() {
                tr() {
                    th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Test Suite&#34;</span>)
                    th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Passed&#34;</span>)
                    th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Failed&#34;</span>)
                    th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Total&#34;</span>)
                }
            }
            tbody() {
            xmlFile.<span style="color:#007f7f">testsuite</span>.<span style="color:#007f7f">each</span> { testsuite -&gt;
            tr() {
                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,) {
                    a(href: <span style="color:#0ff;font-weight:bold">&#34;#&#34;</span>,testsuite[<span style="color:#0ff;font-weight:bold">&#39;@name&#39;</span>])
                }
                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,Integer.<span style="color:#007f7f">valueOf</span>(Integer.<span style="color:#007f7f">valueOf</span>(testsuite[<span style="color:#0ff;font-weight:bold">&#39;@tests&#39;</span>]) - Integer.<span style="color:#007f7f">valueOf</span>(testsuite[<span style="color:#0ff;font-weight:bold">&#39;@failure&#39;</span>])))
                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,testsuite[<span style="color:#0ff;font-weight:bold">&#39;@failure&#39;</span>])
                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,testsuite[<span style="color:#0ff;font-weight:bold">&#39;@tests&#39;</span>])
            }
        }
    }
}
    footer(class: <span style="color:#0ff;font-weight:bold">&#34;page-footer blue darken-3&#34;</span>) {
        div(class: <span style="color:#0ff;font-weight:bold">&#34;footer-copyright&#34;</span>) {
            div(class: <span style="color:#0ff;font-weight:bold">&#34;container&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;2018 - Sprinklr&#34;</span>) {
                a(class: <span style="color:#0ff;font-weight:bold">&#34;grey-text text-lighten-4 right&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>)
            }
        }
    }
}
</code></pre></div><p>So our build.gradle file should look like this :</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy"><span style="color:#fff;font-weight:bold">import</span> groovy.xml.MarkupBuilder
group <span style="color:#0ff;font-weight:bold">&#39;&lt;project-name&gt;&#39;</span>
version <span style="color:#0ff;font-weight:bold">&#39;1.0-SNAPSHOT&#39;</span>
apply plugin: <span style="color:#0ff;font-weight:bold">&#39;base&#39;</span>
task htmlReport {
    doLast {
    <span style="color:#fff;font-weight:bold">def</span> xmlFile = <span style="color:#fff;font-weight:bold">new</span> XmlParser().<span style="color:#007f7f">parse</span>(<span style="color:#fff;font-weight:bold">new</span> File(<span style="color:#0ff;font-weight:bold">&#34;xmlFileName&#34;</span>))
<span style="color:#fff;font-weight:bold">def</span> xmlWriter = <span style="color:#fff;font-weight:bold">new</span> FileWriter(file(<span style="color:#0ff;font-weight:bold">&#34;${project.buildDir}/index.html&#34;</span>))
<span style="color:#fff;font-weight:bold">def</span> xmlMarkup = <span style="color:#fff;font-weight:bold">new</span> MarkupBuilder(xmlWriter)
xmlWriter.<span style="color:#007f7f">write</span>(<span style="color:#0ff;font-weight:bold">&#34;&lt;!DOCTYPE html&gt;\n&#34;</span>)
xmlMarkup.<span style="color:#007f7f">html</span>() {
    head() {
        meta(charset: <span style="color:#0ff;font-weight:bold">&#34;utf-8&#34;</span>)
        meta(name: <span style="color:#0ff;font-weight:bold">&#34;viewport&#34;</span>, content:<span style="color:#0ff;font-weight:bold">&#34;width=device-width, initial-scale=1, maximum-scale=1&#34;</span>)
        title(<span style="color:#0ff;font-weight:bold">&#34;Test Report&#34;</span>)
        link(rel: <span style="color:#0ff;font-weight:bold">&#34;stylesheet&#34;</span>, href: <span style="color:#0ff;font-weight:bold">&#34;https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css&#34;</span>, media: <span style="color:#0ff;font-weight:bold">&#34;screen,projection&#34;</span>) { mkp.<span style="color:#007f7f">yield</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>) }
        link(rel: <span style="color:#0ff;font-weight:bold">&#34;stylesheet&#34;</span>, href: <span style="color:#0ff;font-weight:bold">&#34;https://fonts.googleapis.com/icon?family=Material+Icons&#34;</span>) { mkp.<span style="color:#007f7f">yield</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>) }
    }
    body(){
        header(){
            div(<span style="color:#0ff;font-weight:bold">&#34;class&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;nav-wrapper&#34;</span>){
                nav(class: <span style="color:#0ff;font-weight:bold">&#34;blue darken-3&#34;</span>) {
                    a(class: <span style="color:#0ff;font-weight:bold">&#34;brand-logo&#34;</span>, href: <span style="color:#0ff;font-weight:bold">&#34;#&#34;</span>,id: <span style="color:#0ff;font-weight:bold">&#34;logo-container&#34;</span>) {
                        img(class: <span style="color:#0ff;font-weight:bold">&#34;logo-img&#34;</span>,src: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>) {
                            mkp.<span style="color:#007f7f">yield</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>)
                        }
                    }
                    ul(class: <span style="color:#0ff;font-weight:bold">&#34;center flow-text&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;TEST RESULTS&#34;</span>)
                }
            }
        }
        div(class: <span style="color:#0ff;font-weight:bold">&#34;container&#34;</span>) {
            div(style: <span style="color:#0ff;font-weight:bold">&#34;margin-bottom: 50px;&#34;</span>) {
                table(class: <span style="color:#0ff;font-weight:bold">&#34;striped responsive-table&#34;</span>, id: <span style="color:#0ff;font-weight:bold">&#34;example&#34;</span>) {
                    thead() {
                        tr() {
                            th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Test Suite&#34;</span>)
                            th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Passed&#34;</span>)
                            th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Failed&#34;</span>)
                            th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Total&#34;</span>)
                        }
                    }
                    tbody() {
                        xmlFile.<span style="color:#007f7f">testsuite</span>.<span style="color:#007f7f">each</span> { testsuite -&gt;
                            tr() {
                                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,) {
                                    a(href: <span style="color:#0ff;font-weight:bold">&#34;#&#34;</span>,testsuite[<span style="color:#0ff;font-weight:bold">&#39;@name&#39;</span>])
                                }
                                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,Integer.<span style="color:#007f7f">valueOf</span>(Integer.<span style="color:#007f7f">valueOf</span>(testsuite[<span style="color:#0ff;font-weight:bold">&#39;@tests&#39;</span>]) - Integer.<span style="color:#007f7f">valueOf</span>(testsuite[<span style="color:#0ff;font-weight:bold">&#39;@failure&#39;</span>])))
                                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,testsuite[<span style="color:#0ff;font-weight:bold">&#39;@failure&#39;</span>])
                                td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,testsuite[<span style="color:#0ff;font-weight:bold">&#39;@tests&#39;</span>])
                            }
                        }
                    }
                }
            }
            xmlFile.<span style="color:#007f7f">testsuite</span>.<span style="color:#007f7f">each</span> { testsuite -&gt;
                h2(<span style="color:#0ff;font-weight:bold">&#34;Suite Name : &#34;</span> + testsuite[<span style="color:#0ff;font-weight:bold">&#39;@name&#39;</span>])
                h5(<span style="color:#0ff;font-weight:bold">&#34;Total Tests Executed : &#34;</span> + testsuite[<span style="color:#0ff;font-weight:bold">&#39;@tests&#39;</span>])
                h5(<span style="color:#0ff;font-weight:bold">&#34;Total Tests Failed : &#34;</span> + testsuite[<span style="color:#0ff;font-weight:bold">&#39;@failure&#39;</span>])
                h5(<span style="color:#0ff;font-weight:bold">&#34;Date : &#34;</span> + testsuite[<span style="color:#0ff;font-weight:bold">&#39;@timestamp&#39;</span>])
                div(style: <span style="color:#0ff;font-weight:bold">&#34;margin-bottom: 50px;&#34;</span>) {
                    table(class: <span style="color:#0ff;font-weight:bold">&#34;striped highlight responsive-table&#34;</span>) {
                        thead() {
                            tr() {
                                th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Test Name&#34;</span>)
                                th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Result&#34;</span>)
                                th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Failure Reason&#34;</span>)
                                th(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Test URL&#34;</span>)
                            }
                        }
                        tbody() {
                            testsuite.<span style="color:#007f7f">testcase</span>.<span style="color:#007f7f">each</span> { testcase -&gt;
                                <span style="color:#fff;font-weight:bold">if</span>(testcase.<span style="color:#007f7f">failure</span>.<span style="color:#007f7f">size</span>() &lt;= <span style="color:#ff0;font-weight:bold">0</span>) {
                                    tr(class: <span style="color:#0ff;font-weight:bold">&#34;green lighten-5&#34;</span>) {
                                        td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,testcase[<span style="color:#0ff;font-weight:bold">&#39;@name&#39;</span>])
                                        td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;Passed&#34;</span>)
                                        td(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>)
                                        td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>) {
                                            a(href: testcase.<span style="color:#0ff;font-weight:bold">&#39;system-out&#39;</span>.<span style="color:#007f7f">text</span>(), target: <span style="color:#0ff;font-weight:bold">&#34;_blank&#34;</span>, testcase.<span style="color:#0ff;font-weight:bold">&#39;system-out&#39;</span>.<span style="color:#007f7f">text</span>())
                                        }
                                    }
                                } <span style="color:#fff;font-weight:bold">else</span> {
                                    tr(class: <span style="color:#0ff;font-weight:bold">&#34;red lighten-5&#34;</span>) {
                                        td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>,testcase[<span style="color:#0ff;font-weight:bold">&#39;@name&#39;</span>])
                                        td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Failed&#34;</span>)
                                        td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>, testcase.<span style="color:#007f7f">failure</span>[<span style="color:#0ff;font-weight:bold">&#39;@message&#39;</span>].<span style="color:#007f7f">toString</span>().<span style="color:#007f7f">replace</span>(<span style="color:#0ff;font-weight:bold">&#34;[&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>).<span style="color:#007f7f">split</span>(<span style="color:#0ff;font-weight:bold">&#34;More info&#34;</span>)[<span style="color:#ff0;font-weight:bold">0</span>])
                                        td(class: <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>) {
                                            a(href: testcase.<span style="color:#0ff;font-weight:bold">&#39;system-out&#39;</span>.<span style="color:#007f7f">text</span>(), target: <span style="color:#0ff;font-weight:bold">&#34;_blank&#34;</span>, testcase.<span style="color:#0ff;font-weight:bold">&#39;system-out&#39;</span>.<span style="color:#007f7f">text</span>())
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    footer(class: <span style="color:#0ff;font-weight:bold">&#34;page-footer blue darken-3&#34;</span>) {
        div(class: <span style="color:#0ff;font-weight:bold">&#34;footer-copyright&#34;</span>) {
            div(class: <span style="color:#0ff;font-weight:bold">&#34;container&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Ish Abbi&#34;</span>) {
                a(class: <span style="color:#0ff;font-weight:bold">&#34;grey-text text-lighten-4 right&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>)
            }
        }
    }
    script(type: <span style="color:#0ff;font-weight:bold">&#34;text/javascript&#34;</span>, src: <span style="color:#0ff;font-weight:bold">&#34;https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js&#34;</span>) { mkp.<span style="color:#007f7f">yield</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>) }
}
    }
}
</code></pre></div><p>All you need to do now is to place this report generation task after the task which executes your tests and you should be able to view your custom reports upon success/failure of the tests.</p>
<p>You can also refer to the example code hosted on <a href="https://github.com/rookieInTraining/gradleReportingExample">GitHub</a>.</p>
<!-- raw HTML omitted -->

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ishabbi" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
      <p>The scariest paths often lead to the most exciting places</p>
    
    
      
        © 2019 - 2020
      
       Ish Abbi 
    
    
    
  </section>
</footer>

    </main>

    

    

  </body>

</html>
